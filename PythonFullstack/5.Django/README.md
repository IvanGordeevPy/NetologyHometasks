# **Django_Tutorial**

## **Настройка проекта**
---
Должно существовать активированное виртуальное окружение Python. Как его установить:

1. Запустить VS Code от имени администратора, перейти в папку, где нужно будет установить виртуальное окружение. Перейти в каталог проекта в PowerShell, выполнить код ниже, появится папка env, содержащая файлы виртуального окружения

`py -m venv env`

2. Изменить политику, в PowerShell набрать (Хз, для чего это на самом деле)

`Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser`

3. Войти в папку окружения (env), выполнить команду

`env\Scripts\activate.ps1`

4. Впереди в PowerShell появится маркер окружения (env), но VS Code может о нем все еще ничего не знать. Нажать Ctrl+Shift + P, набрать Python: Select Interpreter
Указать нужный путь к python.exe в папке окружения env, это отобразится внизу в панели состояния. Профит! Теперь можно устанавливать модули только для конкретного проекта.

5. Если нужно будет выйти, то в PowerShell выполнить deactivate, в выборе интерпетатора вернуться на глобальный.

---
Установка библиотеки Django

`pip install Django`

Установка структуры Django

`django-admin startproject name .`, где name - имя проекта, оно же имя папки со структурой; "." - установка в корневой папке (той, которая выбрана в данный момент в терминале), вместо "." можно написать относительный путь папки, где хочется создать проект (при этом путь не должен содержать пробелы)

## **Команды**
---
Перед запуском сервера требуется сохранить все изменения 
`python manage.py runserver` - запустить сервер
`python manage.py startapp demo` - создать приложение (подсистему), где demo - имя приложения. После создания подсистемы обязательно в settings.py в списке INSTALLED_APPS вписывать путь до приложения относительно корня (регистрировать его). "Вход" в папку делается через точку, например "apps.demo"
`python manage.py shell` - интерактивный интерпретатор, выйти через `exit()`

## **Дебаг**
---
Как дебажить:
**print-функции**
Django-проект — это Python приложение. Поэтому можно использовать возможности Python и использовать print’ы для дебага и отладки кода.

**Точки останова (они же breakpoints)**
Удобнее всего использовать в IDE Pycharm или VS Code.

**manage.py shell**
Чтобы ее запустить, требуется находится в корневой папке Django проекта в терминале Powershell
`python manage.py shell`
Запускает интерактивный интерпретатор в контексте Django- проекта.
`from django.urls import reverse` - импортировать функцию reverse
`reverse('demo')` - покажет URL путь до обработчика с именем demo (в urlpatterns должен быть третий аругмент с этим именем, либо можно обращаться через саму функцию, но не рекомендуется)

**Сообщения об ошибках Django**
Средство фреймворка. Если включен DEBUG-режим (по умолчанию во всех домашних работах именно так), то Django собирает и агрегирует информацию об ошибке.

## **Общая инфа**
---
Файл views.py - содержит обработчики (принимают запрос и отдают клиенту ответ)
Файл urls.py - содержит маршруты, которые будут вызывать сответствующие обработчики. Пустой путь задает обработчик, который будет вызван на главной странице

В Django придерживаемся паттерна MVC (model-view-controller), он переименован в MTV - не мешаем в одну кучу:
*Управление логикой при ответе - view
*Как будет выглядеть страница - template (model в MVC)
*Состояние приложения - model


## **Дополнительная информация**
[Документация Django](https://docs.djangoproject.com/en/4.2/)
[Учебник](https://developer.mozilla.org/ru/docs/Learn/Server-side/Django)
[Создание блога](https://tutorial.djangogirls.org/ru/)
[Типы данных для атрибутов моделей](https://docs.djangoproject.com/en/3.2/ref/models/fields/#model-field-types)